#!/bin/bash

set -eufo pipefail

{{ template "script_prompt.tmpl" . }}

script_prompt "System Settings" "This script will configure the Mac OS system settings from the source directory"

# System settings

# Take screenshots as jpg (usually smaller size) and not png
defaults write com.apple.screencapture type jpg

# Do not open previous previewed files (e.g. PDFs) when opening a new one
defaults write com.apple.Preview ApplePersistenceIgnoreState YES

# Show hidden files
defaults write com.apple.finder AppleShowAllFiles YES

# Show path bar
defaults write com.apple.finder ShowPathbar -bool true

# Show status bar
defaults write com.apple.finder ShowStatusBar -bool true

# Disable mouse acceleration
defaults write NSGlobalDomain com.apple.mouse.linear -bool true

# Shorter Dock autohide animation duration
defaults write com.apple.dock "autohide-time-modifier" -float "0.25"

# Remove the Dock autohide delay
defaults write com.apple.dock "autohide-delay" -float "0"

# Disable rich text by default for TextEdit
defaults write com.apple.TextEdit "RichText" -bool "false" && killall TextEdit

# Restart Finder and Dock
killall Finder;
killall Dock;
